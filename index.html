<!DOCTYPE html PUBLIC "-//W3C//DTD HTML  4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="en"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;Interactive E-Bike Rental Guide - Follonica Region&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.jsdelivr.net/npm/chart.js"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;link rel="preconnect" href="https://fonts.googleapis.com"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;link rel="preconnect" href="https://fonts.gstatic.com" crossorigin&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&amp;display=swap" rel="stylesheet"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>body { font-family: 'Inter', sans-serif; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.chart-container { position: relative; width: 100%; max-width: 900px; margin-left: auto; margin-right: auto; height: 400px; max-height: 50vh; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>@media (max-width: 768px) { .chart-container { height: 350px; } }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.modal-bg { backdrop-filter: blur(5px); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.active-filter { background-color: #0369a1; color: white; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.inactive-filter { background-color: #e2e8f0; color: #334155; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.provider-card { transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.provider-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body class="bg-stone-50 text-stone-800"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="modal-container" class="fixed inset-0 z-50 items-center justify-center hidden p-4 modal-bg" onclick="closeModal()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="modal-content" class="relative w-full max-w-3xl max-h-[90vh] p-8 overflow-y-auto bg-white rounded-2xl shadow-2xl" onclick="event.stopPropagation()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;header class="py-8 text-center bg-white shadow-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="container px-4 mx-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h1 class="text-4xl font-bold tracking-tight text-cyan-800"&gt;E-Bike Rental Guide&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p class="mt-2 text-lg text-stone-600"&gt;Explore e-bike rental options in the Follonica region&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/header&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;main class="container p-4 mx-auto my-8 md:p-8"&gt;</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;section id="intro" class="mb-12"&gt;</p>
<p class="p1"><span class="Apple-converted-space">             </span>&lt;div class="p-8 bg-white rounded-lg shadow-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h2 class="mb-4 text-2xl font-bold text-cyan-700"&gt;Find Your Ideal E-Bike in Maremma&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p class="text-stone-600"&gt;This interactive application helps you navigate e-bike rental options within a 50km radius of Follonica. Use the filters below to customize your search based on location, preferred bike type, and the battery capacity you need. The results will update instantly, showing you a list of providers and a comparative chart to help you make the best choice for your adventures in Tuscany.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/section&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;section id="filters" class="p-6 mb-8 bg-white rounded-lg shadow-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="grid grid-cols-1 gap-6 md:grid-cols-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="mb-3 font-semibold text-stone-700"&gt;📍 Filter by Location&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="location-filters" class="flex flex-wrap gap-2"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="mb-3 font-semibold text-stone-700"&gt;🔋 Filter by Battery Capacity (Wh)&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="battery-filters" class="flex flex-wrap gap-2"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="mb-3 font-semibold text-stone-700"&gt;🚲 Filter by Bike Type&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="type-filters" class="flex flex-wrap gap-2"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="mb-3 font-semibold text-stone-700"&gt;⚡ Exchangeable Battery&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="exchangeable-battery-filters" class="flex flex-wrap gap-2"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">             </span>&lt;div class="mt-6 text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button id="reset-filters-btn" class="px-6 py-2 font-semibold text-white transition-colors rounded-lg bg-cyan-600 hover:bg-cyan-700"&gt;Reset Filters&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/section&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;section id="chart-section" class="mb-12"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="p-8 bg-white rounded-lg shadow-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h2 class="mb-2 text-2xl font-bold text-center text-cyan-700"&gt;Maximum Battery Capacity Comparison&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p class="mb-6 text-center text-stone-600"&gt;This chart shows the maximum battery capacity (in Wh) available from each filtered provider. A higher capacity suggests a longer range, ideal for challenging excursions.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="chart-container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;canvas id="batteryChart"&gt;&lt;/canvas&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/section&gt;</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;section id="results"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="flex items-center justify-between mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                 </span>&lt;h2 class="text-2xl font-bold text-cyan-700"&gt;Available Providers&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                 </span>&lt;p id="results-count" class="font-semibold text-stone-600"&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="provider-grid" class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/section&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/main&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;footer class="py-6 mt-12 text-center text-white bg-cyan-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;p&gt;&amp;copy; 2024 Interactive E-Bike Guide. All data based on the provided report.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/footer&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>const providersData = [</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 1,</p>
<p class="p1"><span class="Apple-converted-space">                </span>name: 'Podere Cascatelle &amp; Agriletizia',</p>
<p class="p1"><span class="Apple-converted-space">                </span>location: 'Follonica',</p>
<p class="p1"><span class="Apple-converted-space">                </span>types: ['e-MTB'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>bikes: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Scott', model: 'Unspecified models', battery: null },</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>summary: 'Offers Scott e-bikes with a focus on guided excursions along the coast and hills.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>notes: 'Exact battery capacity (Wh) and specific models are not indicated. Direct contact is required for technical details.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>contact: 'Tel: 0566940028 / +393339191867 | Email: info@poderecascatelle.it',</p>
<p class="p1"><span class="Apple-converted-space">                </span>hasExchangeableBattery: false</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 3,</p>
<p class="p1"><span class="Apple-converted-space">                </span>name: 'Camping Village Il Fontino',</p>
<p class="p1"><span class="Apple-converted-space">                </span>location: 'Scarlino',</p>
<p class="p1"><span class="Apple-converted-space">                </span>types: ['e-MTB'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>bikes: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Unspecified', model: 'Latest generation E-bike', battery: null },</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>summary: 'Rents e-MTBs for excursions, suitable for the Bandite di Scarlino Nature Reserve.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>notes: 'Brands, models, or battery capacities are not specified. Direct contact is essential for crucial technical information.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>contact: 'Prices: 1 e-MTB/day €25, 1 week €120.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>hasExchangeableBattery: false</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 4,</p>
<p class="p1"><span class="Apple-converted-space">                </span>name: 'Bike Service Massa Marittima',</p>
<p class="p1"><span class="Apple-converted-space">                </span>location: 'Massa Marittima',</p>
<p class="p1"><span class="Apple-converted-space">                </span>types: ['e-MTB'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>bikes: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Scott', model: 'Genius 930', battery: 625 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Scott', model: 'Patron eRIDE (e.g., 920)', battery: 750 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Scott', model: 'Genius eRIDE (e.g., 920)', battery: 625, rangeBooster: 500, exchangeableBattery: true },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Scott', model: 'Strike eRide 920', battery: 625, rangeBooster: 500, exchangeableBattery: true },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Scott', model: 'Ransom eRide', battery: 625 },</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>summary: 'Specialized bike hotel with a large fleet of high-performance Scott e-MTBs.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>notes: 'Premier destination for e-MTBs with very high battery capacity options (up to 1125 Wh with range booster), ideal for serious trail riding.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>contact: 'Tel: +39 0566 902177 / +39 339 3439719',</p>
<p class="p1"><span class="Apple-converted-space">                </span>hasExchangeableBattery: true</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 5,</p>
<p class="p1"><span class="Apple-converted-space">                </span>name: 'EasyBike Maremma',</p>
<p class="p1"><span class="Apple-converted-space">                </span>location: 'Castiglione della Pescaia',</p>
<p class="p1"><span class="Apple-converted-space">                </span>types: ['City/Trekking', 'Gravel', 'e-MTB', 'Junior'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>bikes: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'XP Bikes', model: 'Funky', battery: 696 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'XP Bikes', model: 'I-K Kompact 20″+', battery: 696 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'XP Bikes', model: 'Citybike D6.2', battery: 672 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Bergamont', model: 'E-Revox Sport FMN', battery: 625 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'XP', model: 'F-M 120 MTB', battery: 840 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Bergamont', model: 'E-Revox 4', battery: 500 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Raymon', model: 'SIXRAY E 3.0', battery: 500 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Wilier', model: 'Triestina Hybrid', battery: 250, rangeBooster: 210, exchangeableBattery: true },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Wilier', model: 'Jena Hybrid', battery: 250, rangeBooster: 210, exchangeableBattery: true },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Cicli Adriatica', model: 'Tora', battery: 720 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'XP', model: 'I-MD 9.1 UNISEX', battery: 672 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Cicli Adriatica', model: 'Rayon', battery: 720 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'XP', model: 'D8.2', battery: 720 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Megamo', model: 'Top City', battery: 375 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Focus', model: 'Jam 2 29 LTD', battery: 760 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Focus', model: 'Bold 2 Plus', battery: 378, rangeBooster: 378, exchangeableBattery: true },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Megamo', model: 'Kinetic', battery: 418 },</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>summary: 'The most diverse fleet, with city bikes, gravel, and e-MTBs of various brands and professional F.C.I. guides.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>notes: 'Wide range of battery capacities, from 250Wh to 840Wh. An excellent choice for almost any type of cyclist.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>contact: 'Email: info@easybikemaremma.it | Tel: +39 3383710101',</p>
<p class="p1"><span class="Apple-converted-space">                </span>hasExchangeableBattery: true</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 6,</p>
<p class="p1"><span class="Apple-converted-space">                </span>name: 'Freedome',</p>
<p class="p1"><span class="Apple-converted-space">                </span>location: 'Castiglione della Pescaia',</p>
<p class="p1"><span class="Apple-converted-space">                </span>types: ['City/Trekking', 'e-MTB', 'Junior'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>bikes: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Unspecified', model: 'City e-bike', battery: null },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Unspecified', model: 'e-MTB', battery: null },</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>summary: 'Family-oriented rental with distinction between city e-bikes and e-MTBs. Free child seats.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>notes: 'Brands, models, or battery capacities are not specified. Their strong point is the user and family-oriented approach.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>contact: 'Locality Riva del Sole. Minimum age 12 years.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>hasExchangeableBattery: false</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 7,</p>
<p class="p1"><span class="Apple-converted-space">                </span>name: 'Golf Hotel Punta Ala',</p>
<p class="p1"><span class="Apple-converted-space">                </span>location: 'Punta Ala',</p>
<p class="p1"><span class="Apple-converted-space">                </span>types: ['e-MTB', 'Gravel'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>bikes: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Giant', model: 'Fathom E+3 Power', battery: 500 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Giant', model: 'Trance E+2 Pro', battery: 625, rangeBooster: 250, exchangeableBattery: true },</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>summary: 'Premium service with Bike Center, Giant and Liv models, and personalized tours.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>notes: 'High-quality offer combining comfort and performance, with good battery capacities (up to 875 Wh with extender) to explore the trails of Punta Ala.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>contact: 'Email: fom@golfhotelpuntaala.it | Tel: +39 0564 9401',</p>
<p class="p1"><span class="Apple-converted-space">                </span>hasExchangeableBattery: true</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 8,</p>
<p class="p1"><span class="Apple-converted-space">                </span>name: 'Piombino E-Bike Rent',</p>
<p class="p1"><span class="Apple-converted-space">                </span>location: 'Piombino',</p>
<p class="p1"><span class="Apple-converted-space">                </span>types: ['e-MTB', 'City/Trekking', 'Junior'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>bikes: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Fantic', model: 'XF1 140', battery: 630 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Fantic', model: 'Seven Days Metro', battery: 630, conflicting: 400 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Fantic', model: 'Fat Sport 24 (Kids)', battery: 630 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Fantic', model: 'XF3 Mountain Bike', battery: 630},</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>summary: 'Specialized in Fantic e-bikes for urban and mountain use, including models for children.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>notes: '⚠️ Conflicting information on the battery of the "Seven Days Metro" model (630Wh vs 400Wh). It is advisable to verify directly with the provider.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>contact: 'Website for contacts and reservations.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>hasExchangeableBattery: false // No explicit mention of exchangeable/secondary battery for these models</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 9,</p>
<p class="p1"><span class="Apple-converted-space">                </span>name: 'Funnybike Rent',</p>
<p class="p1"><span class="Apple-converted-space">                </span>location: 'San Vincenzo',</p>
<p class="p1"><span class="Apple-converted-space">                </span>types: ['e-MTB', 'Gravel', 'Junior'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>bikes: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Torpado', model: 'THOR-T990 (Full)', battery: 720 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'World Dimension', model: 'ASTER MTB 27.5 (Junior)', battery: 499 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Garelli', model: 'IMAGO TK2 (Trekking)', battery: 720 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Focus', model: 'JAM6.8 (Down Hill)', battery: 750 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Parkpre', model: 'E-ALGRAVEL-APEX1 (Gravel)', battery: 500 },</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>summary: 'Very specific and transparent offer, with specialized e-bikes like Downhill and Gravel.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>notes: 'Clarity on models and battery capacities is a great advantage for experienced cyclists looking for specific performance.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>contact: 'Website for contacts and accessory rentals.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>hasExchangeableBattery: false</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 10,</p>
<p class="p1"><span class="Apple-converted-space">                </span>name: 'Tutun Club',</p>
<p class="p1"><span class="Apple-converted-space">                </span>location: 'San Vincenzo',</p>
<p class="p1"><span class="Apple-converted-space">                </span>types: ['City/Trekking', 'e-MTB'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>bikes: [</p>
<p class="p1"><span class="Apple-converted-space">                     </span>{ brand: 'Unspecified', model: 'Trekking &amp; MTB models', battery: null },</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>summary: 'Trekking and mountain e-bike rental with an estimated range between 50 and 100 km.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>notes: 'Range is a general estimate. Details on brands, models, and exact battery capacity (Wh) are missing, making quantitative comparison difficult.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>contact: 'Direct contact for specific information.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>hasExchangeableBattery: false</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 11,</p>
<p class="p1"><span class="Apple-converted-space">                </span>name: 'Ride in the Box',</p>
<p class="p1"><span class="Apple-converted-space">                </span>location: 'Roccastrada',</p>
<p class="p1"><span class="Apple-converted-space">                </span>types: ['e-MTB', 'Road', 'Gravel'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>bikes: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Cannondale', model: 'Tesoro Neo X2', battery: 625 },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Cannondale', model: 'Synapse Neo Allroad', battery: 400, rangeBooster: 250, exchangeableBattery: true },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Unspecified', model: 'E.Road', battery: null },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ brand: 'Unspecified', model: 'E.mtb', battery: null },</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>summary: 'Home bike delivery service to partner accommodations, with Cannondale models.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>notes: 'Ideal for those seeking convenience and simplified logistics. Offers a 10% discount for guests of partner facilities.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>contact: 'Partner: Pieve di Caminino Historic Farm.',</p>
<p class="p1"><span class="Apple-converted-space">                </span>hasExchangeableBattery: true</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>let activeFilters = {</p>
<p class="p1"><span class="Apple-converted-space">            </span>locations: null, // Changed to null for 'All' selection</p>
<p class="p1"><span class="Apple-converted-space">            </span>battery: null,</p>
<p class="p1"><span class="Apple-converted-space">            </span>types: [],</p>
<p class="p1"><span class="Apple-converted-space">            </span>exchangeableBattery: null<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>let batteryChart;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.addEventListener('DOMContentLoaded', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>setupFilters();</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderAll();</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('reset-filters-btn').addEventListener('click', resetFilters);</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>function setupFilters() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const uniqueLocations = [...new Set(providersData.map(p =&gt; p.location))];</p>
<p class="p1"><span class="Apple-converted-space">            </span>const locationOptions = [{ label: 'All', value: null }, ...uniqueLocations.map(loc =&gt; ({ label: loc, value: loc }))];</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const types = [...new Set(providersData.flatMap(p =&gt; p.types))];</p>
<p class="p1"><span class="Apple-converted-space">            </span>const batteryRanges = [</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'All', value: null },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: '&lt; 500 Wh', value: [0, 499] },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: '500-700 Wh', value: [500, 700] },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: '&gt; 700 Wh', value: [701, Infinity] },</p>
<p class="p1"><span class="Apple-converted-space">            </span>];</p>
<p class="p1"><span class="Apple-converted-space">            </span>const exchangeableBatteryOptions = [</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'All', value: null },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'Yes', value: true },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'No', value: false }</p>
<p class="p1"><span class="Apple-converted-space">            </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const locationFiltersContainer = document.getElementById('location-filters');</p>
<p class="p1"><span class="Apple-converted-space">            </span>locationOptions.forEach(option =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const button = createFilterButton(option.label, 'locations', option.value, true); // locations now behave as radio</p>
<p class="p1"><span class="Apple-converted-space">                </span>locationFiltersContainer.appendChild(button);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const batteryFiltersContainer = document.getElementById('battery-filters');</p>
<p class="p1"><span class="Apple-converted-space">            </span>batteryRanges.forEach(range =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const button = createFilterButton(range.label, 'battery', range.value, true);</p>
<p class="p1"><span class="Apple-converted-space">                </span>batteryFiltersContainer.appendChild(button);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const typeFiltersContainer = document.getElementById('type-filters');</p>
<p class="p1"><span class="Apple-converted-space">            </span>types.forEach(type =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const button = createFilterButton(type, 'types', type, false); // Types remain multi-select</p>
<p class="p1"><span class="Apple-converted-space">                </span>typeFiltersContainer.appendChild(button);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const exchangeableBatteryFiltersContainer = document.getElementById('exchangeable-battery-filters');</p>
<p class="p1"><span class="Apple-converted-space">            </span>exchangeableBatteryOptions.forEach(option =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const button = createFilterButton(option.label, 'exchangeableBattery', option.value, true);</p>
<p class="p1"><span class="Apple-converted-space">                </span>exchangeableBatteryFiltersContainer.appendChild(button);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>function createFilterButton(value, category, dataValue = value, isRadio = false) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const button = document.createElement('button');</p>
<p class="p1"><span class="Apple-converted-space">            </span>button.textContent = value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>button.dataset.value = JSON.stringify(dataValue);</p>
<p class="p1"><span class="Apple-converted-space">            </span>button.dataset.category = category;</p>
<p class="p1"><span class="Apple-converted-space">            </span>button.className = `px-3 py-1.5 text-sm font-medium rounded-full transition-colors inactive-filter`;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Set initial active state for 'All' options</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (isRadio &amp;&amp; dataValue === null) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>button.classList.replace('inactive-filter', 'active-filter');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>button.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>toggleFilter(button, category, dataValue, isRadio);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>return button;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleFilter(button, category, value, isRadio) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (isRadio) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>activeFilters[category] = value;</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.querySelectorAll(`[data-category="${category}"]`).forEach(btn =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>btn.classList.replace('active-filter', 'inactive-filter');</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>button.classList.replace('inactive-filter', 'active-filter');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else { // Multi-select behavior for 'types'</p>
<p class="p1"><span class="Apple-converted-space">                </span>const currentValues = activeFilters[category];</p>
<p class="p1"><span class="Apple-converted-space">                </span>const index = currentValues.indexOf(value);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (index &gt; -1) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>currentValues.splice(index, 1);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>button.classList.replace('active-filter', 'inactive-filter');</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>currentValues.push(value);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>button.classList.replace('inactive-filter', 'active-filter');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderAll();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function resetFilters() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>activeFilters = { locations: null, battery: null, types: [], exchangeableBattery: null };</p>
<p class="p1"><span class="Apple-converted-space">             </span>document.querySelectorAll('#filters button').forEach(btn =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const category = btn.dataset.category;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const value = JSON.parse(btn.dataset.value);</p>
<p class="p1"><span class="Apple-converted-space">                </span>// For radio filters, activate 'All' option</p>
<p class="p1"><span class="Apple-converted-space">                </span>if ((category === 'battery' || category === 'exchangeableBattery' || category === 'locations') &amp;&amp; value === null) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>btn.classList.replace('inactive-filter', 'active-filter');</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// For multi-select, deactivate all</p>
<p class="p1"><span class="Apple-converted-space">                    </span>btn.classList.replace('active-filter', 'inactive-filter');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderAll();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function filterData() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>return providersData.filter(provider =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const locationMatch = activeFilters.locations === null || activeFilters.locations === provider.location;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const typeMatch = activeFilters.types.length === 0 || provider.types.some(t =&gt; activeFilters.types.includes(t));</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>const batteryMatch = (() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (!activeFilters.battery) return true;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const maxBattery = provider.bikes.reduce((max, bike) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                         </span>const total = (bike.battery || 0) + (bike.rangeBooster || 0);</p>
<p class="p1"><span class="Apple-converted-space">                         </span>return total &gt; max ? total : max;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}, 0);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (maxBattery === 0) return false;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return maxBattery &gt;= activeFilters.battery[0] &amp;&amp; maxBattery &lt;= activeFilters.battery[1];</p>
<p class="p1"><span class="Apple-converted-space">                </span>})();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const exchangeableBatteryMatch = activeFilters.exchangeableBattery === null || provider.hasExchangeableBattery === activeFilters.exchangeableBattery;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>return locationMatch &amp;&amp; typeMatch &amp;&amp; batteryMatch &amp;&amp; exchangeableBatteryMatch;</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderAll() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const filteredProviders = filterData();</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderProviderCards(filteredProviders);</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateBatteryChart(filteredProviders);</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateResultsCount(filteredProviders.length);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateResultsCount(count) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const countEl = document.getElementById('results-count');</p>
<p class="p1"><span class="Apple-converted-space">            </span>countEl.textContent = `${count} Result${count === 1 ? '' : 's'}`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderProviderCards(providers) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const grid = document.getElementById('provider-grid');</p>
<p class="p1"><span class="Apple-converted-space">            </span>grid.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (providers.length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>grid.innerHTML = `&lt;p class="col-span-full text-center text-stone-600"&gt;No providers match the selected filters. Try changing your search.&lt;/p&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>return;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>providers.forEach(provider =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const maxBattery = provider.bikes.reduce((max, bike) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const total = (bike.battery || 0) + (bike.rangeBooster || 0);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return total &gt; max ? total : max;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}, 0);</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>const card = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.className = 'flex flex-col justify-between p-6 bg-white rounded-lg shadow-md provider-card';</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-start justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-xl font-bold text-cyan-700"&gt;${provider.name}&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="mt-1 text-sm font-semibold text-stone-500"&gt;${provider.location}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="mt-4 text-stone-600"&gt;${provider.summary}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mt-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center justify-between text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="font-semibold text-stone-700"&gt;Types: ${provider.types.join(', ')}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>${maxBattery &gt; 0 ? `&lt;span class="px-3 py-1 font-bold text-white bg-cyan-600 rounded-full"&gt;${maxBattery} Wh&lt;/span&gt;` : ''}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button class="w-full px-4 py-2 mt-4 font-semibold text-center text-white transition-colors rounded-lg bg-cyan-700 hover:bg-cyan-800" onclick='openModal(${provider.id})'&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>Show Details</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>grid.appendChild(card);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function openModal(providerId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const provider = providersData.find(p =&gt; p.id === providerId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!provider) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const modalContent = document.getElementById('modal-content');</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const bikeListHTML = provider.bikes.map(bike =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>let batteryInfo = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (bike.battery === 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>batteryInfo = '&lt;span class="font-semibold text-red-600"&gt;Gasoline Engine&lt;/span&gt;';</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (bike.battery) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>batteryInfo = `${bike.battery} Wh`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if(bike.rangeBooster) batteryInfo += ` + ${bike.rangeBooster} Wh Extender`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if(bike.exchangeableBattery) batteryInfo += ` &lt;span class="text-blue-600"&gt;(Exchangeable)&lt;/span&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if(bike.conflicting) batteryInfo += ` &lt;span class="text-amber-600"&gt;(or ${bike.conflicting} Wh?)&lt;/span&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>batteryInfo = '&lt;span class="text-stone-500"&gt;Not specified&lt;/span&gt;';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>return `&lt;li class="flex justify-between py-2 border-b border-stone-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="text-stone-700"&gt;${bike.brand} - ${bike.model}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="font-semibold text-cyan-800"&gt;${batteryInfo}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/li&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}).join('');</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>modalContent.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button onclick="closeModal()" class="absolute text-3xl text-stone-500 top-4 right-6"&gt;&amp;times;&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h2 class="mb-2 text-3xl font-bold text-cyan-800"&gt;${provider.name}&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p class="mb-6 text-lg font-semibold text-stone-500"&gt;${provider.location}&lt;/p&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="p-4 mb-6 rounded-lg ${provider.notes.includes('WARNING') || provider.notes.includes('ATTENZIONE') ? 'bg-red-50 text-red-800' : (provider.notes.includes('⚠️') ? 'bg-amber-50 text-amber-800' : 'bg-stone-100 text-stone-700')}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h4 class="mb-2 font-bold"&gt;Important Notes&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p&gt;${provider.notes}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h4 class="mb-3 text-xl font-semibold text-cyan-700"&gt;Available E-Bike Fleet&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;ul class="mb-6"&gt;${bikeListHTML}&lt;/ul&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h4 class="mb-2 text-xl font-semibold text-cyan-700"&gt;Contact and Info&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-stone-600"&gt;${provider.contact}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('modal-container').classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('modal-container').classList.add('flex');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.style.overflow = 'hidden';</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function closeModal() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('modal-container').classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('modal-container').classList.remove('flex');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.style.overflow = 'auto';</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateBatteryChart(providers) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const ctx = document.getElementById('batteryChart').getContext('2d');</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (batteryChart) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>batteryChart.destroy();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const chartData = providers</p>
<p class="p1"><span class="Apple-converted-space">                </span>.map(p =&gt; ({</p>
<p class="p1"><span class="Apple-converted-space">                    </span>name: p.name,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>maxBattery: p.bikes.reduce((max, bike) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                         </span>const total = (bike.battery || 0) + (bike.rangeBooster || 0);</p>
<p class="p1"><span class="Apple-converted-space">                         </span>return total &gt; max ? total : max;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}, 0)</p>
<p class="p1"><span class="Apple-converted-space">                </span>}))</p>
<p class="p1"><span class="Apple-converted-space">                </span>.filter(p =&gt; p.maxBattery &gt; 0)</p>
<p class="p1"><span class="Apple-converted-space">                </span>.sort((a,b) =&gt; b.maxBattery - a.maxBattery);</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>batteryChart = new Chart(ctx, {</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'bar',</p>
<p class="p1"><span class="Apple-converted-space">                </span>data: {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>labels: chartData.map(p =&gt; p.name),</p>
<p class="p1"><span class="Apple-converted-space">                    </span>datasets: [{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>label: 'Maximum Battery Capacity (Wh)',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>data: chartData.map(p =&gt; p.maxBattery),</p>
<p class="p1"><span class="Apple-converted-space">                        </span>backgroundColor: 'rgba(22, 163, 175, 0.7)',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>borderColor: 'rgba(22, 163, 175, 1)',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>borderWidth: 1</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}]</p>
<p class="p1"><span class="Apple-converted-space">                </span>},</p>
<p class="p1"><span class="Apple-converted-space">                </span>options: {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>responsive: true,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>maintainAspectRatio: false,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>indexAxis: 'y',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>scales: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>x: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>beginAtZero: true,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>title: {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>display: true,</p>
<p class="p1"><span class="Apple-converted-space">                                </span>text: 'Watt-hour (Wh)'</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>},</p>
<p class="p1"><span class="Apple-converted-space">                        </span>y: {</p>
<p class="p1"><span class="Apple-converted-space">                           </span>ticks: {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>autoSkip: false,</p>
<p class="p1"><span class="Apple-converted-space">                                </span>callback: function(value, index, values) {</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>const label = this.getLabelForValue(value);</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>return label.length &gt; 25 ? label.substring(0, 25) + '...' : label;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>plugins: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>legend: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>display: false</p>
<p class="p1"><span class="Apple-converted-space">                        </span>},</p>
<p class="p1"><span class="Apple-converted-space">                        </span>tooltip: {</p>
<p class="p1"><span class="Apple-converted-space">                             </span>callbacks: {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>label: function(context) {</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>return ` Max Capacity: ${context.raw} Wh`;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
